name: ðŸš€ Deploy App on push

on:
  push:
    branches:
      - 'dev'

jobs:
  deploy-app:
    name: ðŸŽ‰ Deploy
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: ðŸ“‚ Deploy to Staging
      uses: Techie-Pi/node-vps-deployment@main
      with:
        remote-path: "/var/www/html/pagaleve"
        host: ${{ secrets.host }}
        username: ${{ secrets.username }}
        password: ${{ secrets.password }}
        port: 22
        automatic-pre-deploy: false

    - name: ðŸ”¨ Build Project
      run: |
        cd /var/www/html/pagaleve
        touch test.config